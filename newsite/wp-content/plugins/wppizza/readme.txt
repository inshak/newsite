=== WPPizza - A Restaurant Plugin ===
Contributors: ollybach
Donate link: https://www.wp-pizza.com/
Author URI: https://www.wp-pizza.com
Plugin URI: https://wordpress.org/extend/plugins/wppizza/
Tags: pizzeria, restaurant, restaurant menu, food menu, food ordering, online ordering
Requires PHP: 5.3+
Requires at least: PHP 5.3+, MySql 5.5+, WP 3.3+ 
Tested up to: 5.8
Version: 3.13.8
Stable tag: 3.13.8
License: GPLv2 or later
License URI: http://www.gnu.org/licenses/gpl-2.0.html

A Restaurant Plugin (not only for Pizza). Maintain your Menu (sizes, prices, categories). Accept COD orders. Multisite, Multilingual, WPML compatible.



== Description ==

- **Conceived for Pizza Delivery Businesses, but flexible enough to serve any restaurant type.**

- Maintain your restaurant menu online and accept cash on delivery orders.

- Set categories, multiple prices per item and descriptions.

- Several layouts inbuilt(Default, Responsive, Grid).

- New order notifications.

- Opening/Closing times per day.

- Allow tips/gratuities.

- Simple discounts.

- Multiple taxrates.

- Order reports.

- Multilingual Frontend (just update labels in admin settings page and/or widget as required). WPML compatible.

- Multisite enabled.

- Keeps track of your online orders.

- Shortcode enabled. (see <a href='https://docs.wp-pizza.com/shortcodes/'>complete shortcode list</a>)

- Many other additional options inbuilt.


**To see the plugin in action with different themes try it at <a href="https://demo.wp-pizza.com/">demo.wp-pizza.com</a>**

**If you wish to allow your customers to add additional ingredients to any given menu item, have a look at the premium <a href='https://www.wp-pizza.com/'>"WPPizza Add Ingredients"</a> extension**

= Premium extensions available: =

* <a href='https://www.wp-pizza.com/'>Add Ingredients (Toppings)</a> - <a href='https://demo.wp-pizza.com/wppizza-add-ingredients/'>(Demo)</a>   
* <a href='https://www.wp-pizza.com/'>Delivery By Post/ZipCode</a> - <a href='https://demo.wp-pizza.com/wppizza-delivery-by-postcode/'>(Demo)</a>    
* <a href='https://www.wp-pizza.com/'>Cross-Sells</a> - <a href='https://demo.wp-pizza.com/wppizza-xsales/'>(Demo)</a> 
* <a href='https://www.wp-pizza.com/'>Pickup Prices</a> - <a href='https://demo.wp-pizza.com/wppizza-pickup-prices/'>(Demo)</a>    
* <a href='https://www.wp-pizza.com/'>Preorder</a> - <a href='https://demo.wp-pizza.com/wppizza-preorder/'>(Demo)</a>    
* <a href='https://www.wp-pizza.com/'>Stockmanagement</a> - <a href='https://www.wp-pizza.com/downloads/wppizza-stockmanagement/'>(Details / Screenshots)</a> 
* <a href='https://www.wp-pizza.com/'>Coupons and Discounts</a> - <a href='https://demo.wp-pizza.com/wppizza-coupons-and-discounts/'>(Demo)</a>    
* <a href='https://www.wp-pizza.com/'>Timed Menu</a> - <a href='https://demo.wp-pizza.com/wppizza-timed-menu/our-menu/special-offers/'>(Demo)</a>    
* <a href='https://www.wp-pizza.com/'>Rewards</a> - <a href='https://www.wp-pizza.com/downloads/wppizza-rewards/'>(Details / Screenshots)</a> 
* <a href='https://www.wp-pizza.com/'>Confirm | Reject | Notify</a> - <a href='https://www.wp-pizza.com/downloads/wppizza-confirm-reject-notify/'>(Details / Screenshots)</a> 
* <a href='https://www.wp-pizza.com/'>PDF Invoices</a> - <a href='https://www.wp-pizza.com/downloads/wppizza-pdf-invoices/'>(Details / Screenshots)</a> 
* <a href='https://www.wp-pizza.com/'>Mailinglists</a> - <a href='https://www.wp-pizza.com/downloads/wppizza-mailinglists/'>(Details / Screenshots)</a> 
* <a href='https://www.wp-pizza.com/'>Autoprint</a> - <a href='https://www.wp-pizza.com/downloads/wppizza-autoprint/'>(Details / Screenshots)</a> 
* <a href='https://www.wp-pizza.com/'>Goodcom Printers</a> - <a href='https://www.wp-pizza.com/downloads/wppizza-goodcom-printer/'>(Details / Screenshots)</a>  


= Additional payment gateways to process credit card payments instead of just "Cash on Delivery" =
* <a href='https://www.wp-pizza.com/gateways/'>PayPal</a> 
* <a href='https://www.wp-pizza.com/gateways/'>Stripe</a> 
* <a href='https://www.wp-pizza.com/gateways/'>Authorize.net</a> 
* <a href='https://www.wp-pizza.com/gateways/'>Sofort</a> 
* <a href='https://www.wp-pizza.com/gateways/'>Rabobank</a> 
* <a href='https://www.wp-pizza.com/gateways/'>Sisow</a> 
* <a href='https://www.wp-pizza.com/gateways/'>Mollie</a> 
* <a href='https://www.wp-pizza.com/gateways/'>Marcadopago</a> 
* <a href='https://www.wp-pizza.com/gateways/'>... and more ...</a> 

 
== Installation ==

**Install**

1. Download the plugin and upload the entire `wppizza` folder to the `/wp-content/plugins/` directory.  
Alternatively you can download and install WPPizza using the built in WordPress plugin installer.  
2. Activate the plugin through the 'Plugins' menu in WordPress.  
3. You will find all configuration and menu options in your administration sidebar  


**Things to do on first install**

For consistency, this document has now moved to the following location :   
<a href='https://docs.wp-pizza.com/getting-started/?section=setup'>https://docs.wp-pizza.com/getting-started/?section=setup</a>  
** I strongly encourage you to read it **  


**Uninstall**

Please note:  
Although all options, menu items and menu categories get deleted from the database along with the table that holds any orders you may have received, you will manually have to delete any additional pages (such as the order page for example) that have been created as i have no way of knowing if you are using this page elsewhere or have changed the content/name of it.  
The same goes for the 3 example icons that come with this plugin as they might be in use elsewhere.


== Screenshots ==

1. Frontend
2. Frontend (Different Theme) - minicart only
3. Frontend - Grid Layout
4. Frontend - Order Page
5. Frontend - Thank You Page
6. Frontend - Purchase History (registered user)
7. Admin - Menu items - quick edit
8. Admin - Global Settings (excerpt)
9. Admin - Order Settings (excerpt)
10. Admin - Opening Times
11. Admin - Additives
12. Admin - Layout (excerpt)
13. Admin - Localization (excerpt)
14. Admin - Registered customers
15. Admin - Tools
16. Admin - Tools (GDPR)
17. Admin - Access Rights
18. Admin - Order Form
19. Admin - Sales Reports
20. Admin - Widget
  

== Other Notes ==

= Translations provided by: =

* Italien:  Silvia Palandri  
* Hebrew:  Yair10 [&#1492;&#1500;&#1489;&#32;&#1489;&#1504;&#1497;&#1497;&#1514;&#32;&#1488;&#1514;&#1512;&#1497;&#1501;&#32;]  
* Dutch:  Jelmer  
* Spanish:  Andrew Kurtis at <a href="http://www.webhostinghub.com/">WebHostingHub</a>  
* German:  Franz Rufnak, Witali Opfer 

Many, many thanks guys and girls.  

Note: As the plugin gets updated over time and has some other strings and features added, the translations above (and future ones) are likely to have some not-yet-translated strings. If you wish, feel free to provide any of those missing and I will update the translations accordingly.  

If you want to contribute your own translation, feel free to send me your files and I will be more than happy to include them.  


= Demo Icons: =
Please note that the icons used in the demo installation are <a href="http://www.iconarchive.com/show/desktop-buffet-icons-by-aha-soft.html">iconarchive.com</a> icons and not for commercial use.  
If you do wish to use any icon from this set commercially, please follow <a href="http://www.desktop-icon.com/stock-icons/desktop-buffet-icons.htm">this link</a> to purchase it.  

= Allergen/Foodtype  Icons (credit where credit is due): =
Allergen/Foodtype Icons - though modified and with the exceptions stated below - are courtesy of <a href="https://icon-icons.com/">icon-icons.com</a>  
Foodtype Vegetarian/Vegan Icons courtesy of <a href="https://www.vectorstock.com/">vectorstock.com</a>  
Halal/Kosher Icons specifically created for this plugin.  
Note: Allergen/Foodtype Icons included with this plugin can be used on your site 'as is' and without any attribution  

= Loading Icon: =
"Double Ring" Loading Icon SVG (v3.13+) generated at <a href="https://loading.io/spinner/double-ring">loading.io</a>  

== Changelog ==

3.13.8 
* Fix: some more potentially fatal errors and deprecation notices with php 8 eliminated.
* Fix - WPML Compatibility: Missing string translations for allergens and food types.
* Fix - WPML Compatibility: Taxonomy IDs not using translated taxonomy IDs.
03rd November 2021  

3.13.7 
* Fix: potentially fatal errors and deprecation notices with php 8  
* Tweak: Removed file_get_contents in some google maps helper functions in favour of using wppizza_remote_send (curl/wp_remote_post wrapper) to circumvent potentially disabled php file open wrappers   
8th August 2021  

3.13.6 
* Tested upto: WP 5.8  
* Fix: options not selected in plugin helpers when using 'multiple_select' as formfield type  
* Tweak: added some more information for each country in wppizza_country_info()  
* Tweak: return some more information when using wppizza google maps helper functions 
22nd July 2021  


3.13.5  
* Fix: eliminate some possible php warnings when using php open_basedir  
* Dev: added WPPIZZA_UTC_OFFSET constant for convenience (offset between local/wp time and utc)
* Dev: added order meta data helper functions wppizza_update_order_meta_by_metaid, wppizza_delete_order_meta_by_metaid
* Dev: allow orders metadata to be added selectively to orderdata when querying orders using wppizza_filter_orders_query_add_meta filter  
* Dev: allow (validation) functions to run serverside before actually submitting an order (i.e no need for additional ajax request)  
* Dev: minor tweaks in some plugin development helper functions  
14th July 2021  


3.13.4  
* Tweak: more consistent alignment of gateway icons on orderpage  
* Fix: Tips displayed as input field on confirmation page (if used)  
* Fix: Audio Notification url automatically re-added to input field when saving field empty  
* Dev | Added: wppizza_remote_send() helper as somewhat of a curl/wp_remote_post wrapper  
* Dev | Added: wppizza_revert_minor_currency() to revert back to decimals from wppizza_format_minor_currency()  
21st June 2021  

3.13.3  
* Fix: Typos in some of the ajax results filters that were introduced in 3.13.2  
* Tweak: Allow for exclude attribute in [wppizza bestsellers] shortcode  
* Tweak: Minor additions/granularity added in some admin helpers  
* Tweak: Some admin text typos fixed  
* Tweak: More reliable sorting when splicing additional formfields into position   
* Tweak: allow for 'style' attribute to allow order page customer formfield surrounding element styles to be set directly by filter  
* Tweak: add class to customer formfield surrounding elements to target specific type of inputs  
* Tweak: checkbox alignments on orderpage  
* Tweak: admin css tweaks for tables used in specific admin settings   
* Dev | Added: wppizza_query_by_meta_key()  
* Dev | Added: latitude/longitude validation wppizza_validate_latlng()  
* Dev | Added: Simple phonenumber validation wppizza_validate_phone()  
* Dev | Added: wppizza_gmap_map_address() to query google geocoding api serverside  
13th June 2021  

3.13.2  
* New: allow to run distinct js functions when shop status changes from open to closed (and vice versa)   
* Fix: some potential php notices eliminated  
* Tweak: added css classes for some elements  
* Tweak: added distinct array keys to parameters passed on to 'wppizza_filter_transaction_details' filter  
* Tweak: added 'chosen' js to admin openingtimes selects  
* Tweak: tidyup array keys when saving custom opening times  
* Tweak: allow stale orders cronjob to have its 'delete by payment status' query filtered ('wppizza_remove_stale_order_entries_payment_status')
* Tweak: added global wppizza_is_delivery() (alternative to wppizza_is_pickup()), wppizza_get_shop_status() (currently open or closed and next change due), wppizza_get_openingtimes() (for the next x days) helper functions
* Tweak: Allow all ajax results to be filtered before returning  
11th May 2021  

3.13.1  
* Tweak: Make sure "Always open shop for UserID" does not display potentially erroneous message on checkout for non-loggedin users. Updated related verbiage.  
* Tweak: Replace allergen and food type sprite .pngs with higher quality, scalable .svgs.  
* Tweak: Made allergen icons display slightly smaller in page footer  
* Tweak: Removed some superflous legacy images  
* Tweak: Some potential 'undefined' object message in browser console eliminated  
* Fix: Any "Layout -> Additional Styles" enabled were lost when updating plugin  
7th April 2021  


3.13  
* Update:  Reload orderpage - if applicable - via ajax instead of full page reload  (Backwards compatible with gateways/plugins that do not support this yet)  
* Dev Note: This will affect any payment gateways that do not redirect. If you have developed your own, *non*-redirecting gateway, contact me.  
* Fix: Milk/Lactose allergy icon not displayed  
* Fix: (Edegcases) Select first available gateway on order page if already selected gateway by a customer was disabled by admin during the order   
* Tweak: using added/dedicated loader.svg instead of WP's tinymce loader.gif  
* Tweak: Minor "payment methods" css adjustments to help consistency across themes   
* Tweak: Loading image removed too early in some setups  
* Tweak: Enabled "I am using a caching plugin" as default for new installs and updated associated verbiage.
* Tweak: Prevent some superflous db entries into orders table  
* Tweak: Ensure to always ignore user id of 0 when using "Always open shop for UserID"  
* Tweak: Some minor code tidyups  
* Dev: Allow 'autocomplete' attribute to be added to customer input fields programatically  
* Dev: Added helpers 'wppizza_is_cancelpage()' [wppizza_is_cancelled() - as alias] and 'wppizza_is_thankyoupage()' [wppizza_is_thankyou() - as alias]
* Dev: Added globally available js wppizzaGetCheckout() to allow dynamic ajax replacement/update of form on checkout page  
17th March 2021  


3.0 - 3.12.x  
* changelogs for versions 3.0 to 3.12.x can be found in /wppizza/changelogs/  

1.0 - 2.16.11.28  
* changelogs for versions up to 3.0 can be found in /wppizza/changelogs/  


== Frequently Asked Questions ==

= General Faq's =

for consistency and manageability the faq's have been moved to <a href='https://docs.wp-pizza.com/faqs/'>https://docs.wp-pizza.com/faqs/</a>

= Shortcodes = 

please refer to <a href='https://docs.wp-pizza.com/shortcodes/'>https://docs.wp-pizza.com/shortcodes/</a>


= How can I submit a bug, ask for help or request a new feature? =

- leave a message on the <a href="https://wordpress.org/support/plugin/wppizza">wordpress forum</a> and I'll respond asap.  
- send an email to dev[at]wp-pizza.com with as much info as you can give me or 
- use the <a href="https://www.wp-pizza.com/contact/">"contact form"</a>, <a href="https://www.wp-pizza.com/forum/feature-requests/">"feature request" page </a> or <a href="https://www.wp-pizza.com/support/">support forum</a> on <a href="https://www.wp-pizza.com/">www.wp-pizza.com</a>


	
	>**additional premium add-ons can be found at <a href="https://www.wp-pizza.com/">www.wp-pizza.com</a>**  
	>


== Upgrade Notice ==

= 3.0 =
<b>WARNING : DO NOT SIMPLY CLICK ON "UPDATE". YOU *MUST* READ THE DOCUMENTATION OF <a href="https://docs.wp-pizza.com/getting-started/?section=upgrade-v2-x-v3-x" target="_blank" style="color:#6ce414;text-decoration:underline">HOW TO UPGRADE</a> FROM WPPIZZA VERSION 2.x to VERSION 3.X </b>
&nbsp;
You are <b>STRONGLY</b> advised to also make a <b>FULL BACKUP OF YOUR SITE</b> first. Please refer to the <a href="https://docs.wp-pizza.com/getting-started/?section=upgrade-v2-x-v3-x" target="_blank" style="color:#6ce414;text-decoration:underline">upgrade documentation</a>.
&nbsp;
<b>Developers/Sites that have customised the WPPizza v2.x plugin:</b> 
If you have edited templates, are using some actions/filters, have amended the css etc, you should read the <a href="https://docs.wp-pizza.com/getting-started/?section=migrating-2-x-to-3-x-customisations" style="color:#6ce414;text-decoration:underline">Migrating Customisations</a> documents. Many things have changed !!
Do NOT just update and hope your customisation(s) will work. They probably will not and things will break. Again, whatever you do, make a complete backup of your site first !!!
&nbsp;
<b>IF YOU ARE NOT SURE ABOUT SOMETHING PLEASE ASK <a href="https://www.wp-pizza.com/support/" target="_blank" style="color:#6ce414;text-decoration:underline">IN THE FORUM</a> OR USE THE <a href="https://www.wp-pizza.com/contact/" target="_blank" style="color:#6ce414;text-decoration:underline">CONTACT FORM</a></b>
&nbsp;